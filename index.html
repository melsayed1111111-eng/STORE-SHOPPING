<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOPPING - Ø³ÙˆÙ‚ Ø²Ø±Ø§Ø¹ÙŠ Ù…ÙØªÙˆØ­</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Ù…ÙƒØªØ¨Ø§Øª ÙÙŠØ±Ø¨Ø§Ø³ -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        :root {
            --primary: #232f3e;
            --secondary: #febd69;
            --green-brand: #2e7d32;
            --light: #f3f3f3;
            --dark: #111;
            --white: #fff;
            --shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #eaeded;
            color: var(--dark);
        }

        /* Header */
        header {
            background-color: var(--primary);
            color: white;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            height: 60px;
            gap: 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .logo span {
            color: var(--secondary);
        }

        .search-bar {
            flex-grow: 1;
            display: flex;
            max-width: 800px;
            border-radius: 4px;
            overflow: hidden;
        }

        .search-bar input {
            width: 100%;
            padding: 10px;
            border: none;
            outline: none;
        }

        .search-bar button {
            background: var(--secondary);
            border: none;
            padding: 0 20px;
            cursor: pointer;
            color: var(--primary);
            font-size: 1.2rem;
        }

        .nav-icons {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .nav-item {
            color: white;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.8rem;
            cursor: pointer;
            position: relative;
        }

        .nav-item span {
            font-weight: bold;
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--secondary);
            color: var(--primary);
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª */
        .sub-header {
            background-color: #37475a;
            color: white;
            padding: 8px 20px;
            display: flex;
            gap: 15px;
            font-size: 0.95rem;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: thin;
        }

        .cat-link {
            cursor: pointer;
            padding: 2px 8px;
            border-radius: 3px;
            transition: 0.3s;
        }

        .cat-link:hover,
        .cat-link.active {
            background-color: var(--secondary);
            color: var(--primary);
            font-weight: bold;
        }

        /* Slider */
        .slider-container {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            background: linear-gradient(to bottom, #eaeded00 70%, #eaeded 100%);
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease;
            background-size: cover;
            background-position: center;
        }

        .slide.active {
            opacity: 1;
        }

        .slide::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 50%);
        }

        .slide-content {
            position: absolute;
            top: 50%;
            right: 5%;
            transform: translateY(-50%);
            z-index: 2;
            color: white;
            max-width: 500px;
            text-align: right;
        }

        .slide-content h2 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .slide-btn {
            padding: 10px 30px;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1.1rem;
        }

        /* Products */
        .main-container {
            padding: 20px;
            max-width: 1400px;
            margin: -50px auto 0;
            position: relative;
            z-index: 10;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
        }

        .card {
            background: white;
            padding: 15px;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            transition: 0.3s;
            border: 1px solid #ddd;
            height: 100%;
        }

        .card:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .card-img {
            width: 100%;
            height: 200px;
            object-fit: contain;
            margin-bottom: 10px;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 5px;
            line-height: 1.3;
            height: 45px;
            overflow: hidden;
        }

        .merchant-badge {
            font-size: 0.8rem;
            color: #565959;
            margin-bottom: 5px;
        }

        .merchant-badge i {
            color: var(--green-brand);
        }

        .cat-badge {
            font-size: 0.75rem;
            background: #eee;
            padding: 2px 6px;
            border-radius: 4px;
            color: #555;
            display: inline-block;
            margin-bottom: 5px;
        }

        .price {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .btn-add {
            background: #f7ca00;
            border: 1px solid #fcd200;
            padding: 8px;
            width: 100%;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-top: auto;
        }

        .btn-add:hover {
            background: #f3a847;
        }

        /* Forms & Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            left: 20px;
            top: 20px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .btn-primary {
            background: var(--green-brand);
            color: white;
            border: none;
            padding: 10px 20px;
            width: 100%;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .btn-instapay {
            background: #5a2d81;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
        }

        /* Merchant Panel */
        .merchant-panel {
            background: white;
            padding: 20px;
            margin: 20px auto;
            max-width: 1000px;
            border-radius: 8px;
            display: none;
            border-top: 5px solid var(--green-brand);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        /* Instapay */
        .paywall-msg {
            text-align: center;
            border: 2px dashed var(--green-brand);
            padding: 20px;
            border-radius: 10px;
            background: #f1f8e9;
            margin-top: 20px;
        }

        .instapay-logo {
            width: 100px;
            margin: 10px auto;
            display: block;
        }

        /* Dispatch Modal Styles (Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª) */
        .order-split-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            background: #fafafa;
        }

        .order-split-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--primary);
        }

        .whatsapp-btn {
            background: #25D366;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
            display: inline-block;
            font-weight: bold;
            margin-top: 10px;
            width: 100%;
            text-align: center;
        }

        .whatsapp-btn:hover {
            background: #128C7E;
        }

        footer {
            background: var(--primary);
            color: #ddd;
            padding: 40px 0;
            margin-top: 50px;
            text-align: center;
            font-size: 0.9rem;
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header>
        <div class="header-main">
            <a href="#" class="logo"><i class="fas fa-leaf" style="color:var(--green-brand)"></i> GREEN
                <span>SHOPPING</span></a>

            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
                <button onclick="searchProduct()"><i class="fas fa-search"></i></button>
            </div>

            <div class="nav-icons">
                <div class="nav-item" onclick="checkMerchantStatus()">
                    <span id="userGreeting">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
                    <span style="font-weight:bold">Ø­Ø³Ø§Ø¨ÙŠ / Ø¨ÙŠØ¹ Ù…Ø¹Ù†Ø§</span>
                </div>
                <div class="nav-item" onclick="openModal('cartModal')">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge" id="cartCount">0</span>
                </div>
            </div>
        </div>
        <div class="sub-header" id="categoryFilters">
            <div class="cat-link active">Ø§Ù„ÙƒÙ„</div>
        </div>
    </header>

    <!-- Slider -->
    <div class="slider-container" id="slider">
        <div class="slide active"
            style="background-image: url('https://pbs.twimg.com/media/FVcrJ2BWIAAfqyX?format=jpg&name=large');">
            <div class="slide-content">
                <h2>Ù…Ù†ØµØ© Ø§Ù„Ù…Ø²Ø§Ø±Ø¹ Ø§Ù„Ø£ÙˆÙ„</h2>
                <p>ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ø£Ø±Ø¶Ùƒ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</p>
                <button class="slide-btn" onclick="document.querySelector('.main-container').scrollIntoView()">ØªØ³ÙˆÙ‚
                    Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>
        <div class="slide"
            style="background-image: url('https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?auto=format&fit=crop&w=1600&q=80');">
            <div class="slide-content">
                <h2>Ø§Ù†Ø¶Ù… ÙƒØªØ¬Ø§Ø± Ø§Ù„Ø¢Ù†</h2>
                <p>Ø§Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬Ø§ØªÙƒ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>
                <button class="slide-btn" onclick="openModal('registerModal')">Ø§Ø´ØªØ±Ùƒ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø¨ÙŠØ¹</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªØ§Ø¬Ø± -->
        <div id="merchantDashboard" class="merchant-panel">
            <div class="panel-header">
                <h2 id="dashTitle">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªØ§Ø¬Ø±</h2>
                <div>
                    <span id="subsStatus" style="font-size:0.9rem; margin-left:10px; font-weight:bold;"></span>
                    <button onclick="logout()"
                        style="background:#c62828; color:white; border:none; padding:5px 15px; border-radius:4px; cursor:pointer">Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                <div>
                    <h3><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
                    <form id="productForm" onsubmit="handleProductSubmit(event)" style="margin-top:15px">
                        <div class="form-group"><input type="text" id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" required></div>
                        <div class="form-group"><input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¬Ù†ÙŠÙ‡)" required>
                        </div>
                        <div class="form-group"><input type="text" id="pImg" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (URL)" required>
                        </div>
                        <div class="form-group">
                            <label>ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù†ØªØ¬</label>
                            <input type="text" id="pCat" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø°ÙˆØ±ØŒ ØªÙ…ÙˆØ±ØŒ Ø£Ø³Ù…Ø¯Ø©..." required>
                        </div>
                        <div class="form-group"><textarea id="pDesc" rows="2" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"
                                required></textarea></div>
                        <button type="submit" class="btn-primary">Ù†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬</button>
                    </form>
                </div>
                <div>
                    <h3><i class="fas fa-box-open"></i> Ù…Ù†ØªØ¬Ø§ØªÙŠ</h3>
                    <div style="max-height:300px; overflow-y:auto; margin-top:10px" id="myProductsList"></div>
                </div>
            </div>
        </div>

        <h2 id="productsTitle" style="margin-bottom:20px; border-bottom:2px solid #ddd; padding-bottom:10px">Ø£Ø­Ø¯Ø«
            Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
        <div class="products-grid" id="productsContainer"></div>
    </div>

    <!-- Footer -->
    <footer>
        <h3>SHOPPING MARKETPLACE</h3>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2025</p>
    </footer>

    <!-- Modals -->

    <div id="authModal" class="modal">
        <div class="modal-content" style="text-align:center">
            <span class="close-modal" onclick="closeModal('authModal')">&times;</span>
            <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ SHOPPING GREEN</h2>
            <p style="margin:15px 0; color:#555">Ù„Ø¨ÙŠØ¹ Ù…Ù†ØªØ¬Ø§ØªÙƒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ ØªØ§Ø¬Ø±</p>
            <button class="btn-primary" onclick="openModal('loginModal'); closeModal('authModal')"
                style="margin-bottom:10px">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ (ØªØ¬Ø§Ø±)</button>
            <button class="btn-primary" onclick="openModal('registerModal'); closeModal('authModal')"
                style="background:var(--secondary); color:var(--dark)">ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ ØªØ§Ø¬Ø± Ø¬Ø¯ÙŠØ¯</button>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('loginModal')">&times;</span>
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªØ§Ø¬Ø±</h2>
            <div class="form-group"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label><input type="text" id="loginUser"></div>
            <div class="form-group"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><input type="password" id="loginPass"></div>
            <button class="btn-primary" onclick="loginMerchant()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <!-- Register & Payment Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('registerModal')">&times;</span>
            <h2 id="regTitle">Ø§Ø´ØªØ±Ø§Ùƒ ØªØ§Ø¬Ø± Ø¬Ø¯ÙŠØ¯</h2>
            <div id="step1">
                <div class="form-group"><label>Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø± (Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯)</label><input type="text" id="regShopName"
                        placeholder="Ø§Ø³Ù… Ù…Ø­Ù„Ùƒ"></div>
                <div class="form-group"><label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø´Ø®ØµÙŠ</label><input type="tel" id="regPhone"
                        placeholder="01xxxxxxxxx"></div>
                <!-- Ø­Ù‚Ù„ ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø²Ù†Ø³ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
                <div class="form-group">
                    <label style="color:var(--green-brand)"><i class="fab fa-whatsapp"></i> Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ù„Ø§Ø³ØªÙ„Ø§Ù…
                        Ø§Ù„Ø·Ù„Ø¨Ø§Øª)</label>
                    <input type="tel" id="regWhatsapp" placeholder="ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„ÙŠÙ‡ ÙˆØ§ØªØ³Ø§Ø¨ 01xxxxxxxxx">
                </div>
                <div class="form-group"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø¨Ø¯ÙˆÙ† ÙÙˆØ§ØµÙ„)</label><input type="text" id="regUser"
                        placeholder="username"></div>
                <div class="form-group"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><input type="password" id="regPass"
                        placeholder="******"></div>
                <button type="button" class="btn-primary" id="nextBtn" onclick="goToPayment()">Ø§Ù„ØªØ§Ù„ÙŠ: Ø¯ÙØ¹
                    Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</button>
            </div>

            <div id="step2" style="display:none">
                <div class="paywall-msg">
                    <img src="https://instapay.eg/wp-content/uploads/2022/04/instapay-logo.png" class="instapay-logo"
                        alt="Instapay" style="width: 120px;">
                    <h3 style="color:#5a2d81">ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ§Ø¬Ø±</h3>
                    <p>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: <strong style="font-size:1.2rem">100 Ø¬Ù†ÙŠÙ‡ / Ø´Ù‡Ø±ÙŠØ§Ù‹</strong></p>
                    <div
                        style="background:white; padding:10px; border:1px solid #ddd; margin:10px 0; border-radius:5px;">
                        <p style="margin:0; font-size:0.9rem">Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</p>
                        <h2 style="color:var(--green-brand); letter-spacing:2px; margin:5px 0"
                            onclick="navigator.clipboard.writeText('01120194940'); alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù‚Ù…')">01120194940 <i
                                class="far fa-copy" style="font-size:0.6em; cursor:pointer"></i></h2>
                    </div>
                    <a href="https://play.google.com/store/apps/details?id=com.egyptianbanks.instapay" target="_blank"
                        style="display:block; text-decoration:none; background:#eee; padding:8px; border-radius:5px; color:#333; font-size:0.9rem; margin-bottom:10px">
                        <i class="fas fa-external-link-alt"></i> ÙØªØ­/ØªØ­Ù…ÙŠÙ„ Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ
                    </a>
                </div>
                <div class="form-group" style="margin-top:15px">
                    <label>Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (Reference ID) Ù„Ù„ØªØ£ÙƒÙŠØ¯:</label>
                    <input type="text" id="paymentRef" placeholder="Ù…Ø«Ø§Ù„: 123456789"
                        style="border-color:var(--green-brand)">
                </div>
                <button class="btn-instapay" onclick="completeRegistration()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
                <button
                    onclick="document.getElementById('step2').style.display='none'; document.getElementById('step1').style.display='block'"
                    style="background:none; border:none; color:#555; margin-top:10px; cursor:pointer; text-decoration:underline">Ø±Ø¬ÙˆØ¹</button>
            </div>
        </div>
    </div>

    <!-- Renewal Modal -->
    <div id="renewalModal" class="modal" style="z-index:3000;">
        <div class="modal-content" style="text-align:center; border-top-color:red;">
            <h2 style="color:red"><i class="fas fa-exclamation-circle"></i> Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</h2>
            <p style="margin:15px 0; font-size:1.1rem">Ø¹ÙÙˆØ§Ù‹ØŒ Ù„Ù‚Ø¯ Ø§Ù†ØªÙ‡Øª ÙØªØ±Ø© Ø§Ø´ØªØ±Ø§ÙƒÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©.</p>
            <div class="paywall-msg">
                <p>Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŒ Ø­ÙˆÙ„ 100 Ø¬Ù†ÙŠÙ‡ Ø¥Ù„Ù‰:</p>
                <h2 style="color:var(--green-brand)">01120194940</h2>
            </div>
            <div class="form-group" style="margin-top:15px; text-align:right">
                <label>Ø±Ù‚Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                <input type="text" id="renewRef" placeholder="Reference ID">
            </div>
            <button class="btn-instapay" onclick="renewSubscription()">ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¢Ù†</button>
            <button onclick="closeModal('renewalModal')"
                style="margin-top:10px; background:none; border:none; cursor:pointer">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('cartModal')">&times;</span>
            <h2><i class="fas fa-shopping-cart"></i> Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>
            <div id="cartItems" style="margin:20px 0"></div>
            <div style="font-weight:bold; font-size:1.2rem;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cartTotal">0</span> Ø¬Ù†ÙŠÙ‡</div>
            <hr style="margin:15px 0">
            <h3>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h3>
            <form onsubmit="checkout(event)">
                <div class="form-group"><input type="text" id="cName" placeholder="Ø§Ù„Ø§Ø³Ù…" required></div>
                <div class="form-group"><input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required></div>
                <div class="form-group"><input type="text" id="cAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" required></div>
                <button type="submit" class="btn-primary"
                    style="background:#f0c14b; color:#111; border:1px solid #a88734"><i class="fab fa-check-circle"></i>
                    ØªØ£ÙƒÙŠØ¯ ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</button>
            </form>
        </div>
    </div>

    <!-- Multi-Vendor Checkout Modal (Ø´Ø§Ø´Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) -->
    <div id="dispatchModal" class="modal" style="z-index: 2500;">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('dispatchModal')">&times;</span>
            <h2 style="color:var(--green-brand); text-align:center; margin-bottom:15px"><i class="fab fa-whatsapp"></i>
                Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
            <p style="text-align:center; margin-bottom:20px; font-size:0.9rem; color:#555">Ø³Ù„ØªÙƒ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† ØªØ¬Ø§Ø±
                Ù…Ø®ØªÙ„ÙÙŠÙ†. ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„ÙƒÙ„ ØªØ§Ø¬Ø± Ø¹Ù„Ù‰ Ø­Ø¯Ø©:</p>

            <div id="dispatchList">
                <!-- Ù‡Ù†Ø§ Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„ÙƒÙ„ ØªØ§Ø¬Ø± -->
            </div>

            <button onclick="closeModal('dispatchModal')"
                style="width:100%; padding:10px; border:1px solid #ddd; background:#fff; margin-top:15px; cursor:pointer">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <script>const _0x2161ad=_0x4389;function _0xbd0e(){const _0x20584e=['Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ\x20Ù…Ù†ØªÙ‡ÙŠ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-title\x22>','Ø§Ø³Ù…\x20Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\x20Ù„Ø§\x20ÙŠØ¬Ø¨\x20Ø£Ù†\x20ÙŠØ­ØªÙˆÙŠ\x20Ø¹Ù„Ù‰\x20Ø±Ù…ÙˆØ²\x20Ø®Ø§ØµØ©','Ø£ÙƒÙ…Ù„\x20Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª','Ø¬Ø§Ø±ÙŠ\x20Ø§Ù„ØªØ­Ù‚Ù‚...','regShopName','undefined','getElementById','then','entries','loginModal','categoryFilters','Ø£Ø­Ø¯Ø«\x20Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª','AIzaSyBVPsSkWgHqdrQaUwJVcAlWb3iCsrjkgJs','add','pDesc','opacity','find','0.7','step1','loginUser','price','img','</span><button\x20onclick=\x22deleteProduct(','renewRef','reduce','flex','.slide','ØªÙ…\x20Ø§Ù„ØªØ¬Ø¯ÙŠØ¯!','Green\x20Golden','removeItem','green','362918176320','subtotal','ØªÙ…\x20Ø§Ù„Ù†Ø´Ø±!','authModal','active','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22price\x22>','stringify','innerText','4677376vaSVIJ','setItem','Ù„ÙˆØ­Ø©\x20ØªØ­ÙƒÙ…:\x20','now','store-shopping-a6267.firebasestorage.app','\x20ÙŠÙˆÙ…','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22order-split-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22order-split-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span><i\x20class=\x22fas\x20fa-store\x22></i>\x20Ù…ØªØ¬Ø±:\x20','length','remove','Ø§Ø³Ù…\x20Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\x20Ù…Ø£Ø®ÙˆØ°','scrollIntoView','\x20<span>Ø¬.Ù…</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-add\x22\x20onclick=\x22addToCart(\x27','addEventListener','expiryDate','filter','update','regPhone','Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ\x20ØªØ³Ø¬ÙŠÙ„\x20Ø§Ù„Ø¯Ø®ÙˆÙ„','paymentRef','values','modal','ref','registerModal','includes','message','Ø¨Ø§Ù‚ÙŠ:\x20','<div\x20class=\x22cat-link\x20active\x22\x20onclick=\x22filterProducts(\x27all\x27,\x20this)\x22>Ø§Ù„ÙƒÙ„</div>','regWhatsapp','491144RNtNSa','userGreeting','G-0QQSFTG6EP','productForm','https://store-shopping-a6267-default-rtdb.firebaseio.com','\x22\x20class=\x22card-img\x22\x20alt=\x22','onclick','cartModal','target',',1);updateCartUI()\x22></i></div></div>','greenUser','cat','ØªØµÙ†ÙŠÙ:\x20','step2','cAddress','products','productsContainer','block','myProductsList','qty','cPhone','119aPmogH','1539871yMRAWq','toLocaleString','whatsapp','3386098rNoDHI','red','val','\x27,\x20this)\x22>','classList','\x20(Ø¹Ø¯Ø¯\x20','1:362918176320:web:20de76e9d12e05c6c861a5','merchants','toLowerCase','\x0ağŸ’°\x20*Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:\x20','parse','forEach','push','<div\x20style=\x22display:flex;\x20justify-content:space-between;\x20padding:10px;\x20border-bottom:1px\x20solid\x20#eee\x22><div>','preventDefault','querySelectorAll','none','subsStatus','.cat-link','merchantDashboard','\x0ağŸ“\x20','445263hlvdsq','<div\x20class=\x22cat-link\x22\x20onclick=\x22filterProducts(\x27','<div\x20style=\x22display:flex;\x20justify-content:space-between;\x20border-bottom:1px\x20solid\x20#eee;\x20padding:5px;\x22><span>','name','set','</small></div><div>','Ø®Ø·Ø£:\x20','\x22\x20target=\x22_blank\x22\x20class=\x22whatsapp-btn\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fab\x20fa-whatsapp\x22></i>\x20Ø¥Ø±Ø³Ø§Ù„\x20Ø§Ù„Ø·Ù„Ø¨\x20Ù„Ù„ØªØ§Ø¬Ø±\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchModal','\x0a\x0ağŸ›’\x20*Ø§Ù„Ø·Ù„Ø¨Ø§Øª:*\x0a','merchants/','\x20Ø¬Ù†ÙŠÙ‡*','exists','Ø£Ø¯Ø®Ù„\x20Ø±Ù‚Ù…\x20Ø§Ù„ØªØ­ÙˆÙŠÙ„','productsTitle','loginPass','initializeApp','merchantId','\x20<i\x20class=\x22fas\x20fa-times\x22\x20style=\x22color:red;\x20cursor:pointer\x22\x20onclick=\x22cart.splice(','textContent','innerHTML','regPass','24reYpWy','104310nRQFgp','renewalModal','value','\x0ağŸ“±\x20','regUser','\x20Ø¬.Ù…</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:0.8rem;\x20color:#666;\x20margin-bottom:10px\x22>','DOMContentLoaded','?text=','once','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22merchant-badge\x22><i\x20class=\x22fas\x20fa-store\x22></i>\x20Ø§Ù„ØªØ§Ø¬Ø±:\x20','pPrice','38016387hFwRqA','ÙƒÙ„Ù…Ø©\x20Ø§Ù„Ù…Ø±ÙˆØ±\x20ØºÙŠØ±\x20ØµØ­ÙŠØ­Ø©','\x27)\x22>Ø£Ø¶Ù\x20Ù„Ù„Ø¹Ø±Ø¨Ø©</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','apps','searchInput','Ø­Ø°ÙØŸ',')\x22\x20style=\x22color:red;\x20border:none;\x20background:none;\x20cursor:pointer\x22><i\x20class=\x22fas\x20fa-trash\x22></i></button></div>','<p\x20style=\x22grid-column:1/-1;\x20text-align:center;\x22>Ù„Ø§\x20ØªÙˆØ¬Ø¯\x20Ù…Ù†ØªØ¬Ø§Øª\x20Ø­Ø§Ù„ÙŠØ§Ù‹.</p>','shopName','style','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ceil','smooth'];_0xbd0e=function(){return _0x20584e;};return _0xbd0e();}(function(_0x361a4f,_0x4f3e5d){const _0x7d889d=_0x4389,_0x221dc5=_0x361a4f();while(!![]){try{const _0x41b570=-parseInt(_0x7d889d(0x1d8))/0x1+-parseInt(_0x7d889d(0x1db))/0x2+parseInt(_0x7d889d(0x1f0))/0x3+-parseInt(_0x7d889d(0x1a6))/0x4+-parseInt(_0x7d889d(0x207))/0x5*(parseInt(_0x7d889d(0x206))/0x6)+parseInt(_0x7d889d(0x1d7))/0x7*(parseInt(_0x7d889d(0x1c2))/0x8)+parseInt(_0x7d889d(0x212))/0x9;if(_0x41b570===_0x4f3e5d)break;else _0x221dc5['push'](_0x221dc5['shift']());}catch(_0x5d348b){_0x221dc5['push'](_0x221dc5['shift']());}}}(_0xbd0e,0xe3281));function _0x4389(_0x28636d,_0x177eca){const _0xbd0ee5=_0xbd0e();return _0x4389=function(_0x43890a,_0x2f6273){_0x43890a=_0x43890a-0x190;let _0x4be4b9=_0xbd0ee5[_0x43890a];return _0x4be4b9;},_0x4389(_0x28636d,_0x177eca);}const firebaseConfig={'apiKey':_0x2161ad(0x22d),'authDomain':'store-shopping-a6267.firebaseapp.com','databaseURL':_0x2161ad(0x1c6),'projectId':'store-shopping-a6267','storageBucket':_0x2161ad(0x1aa),'messagingSenderId':_0x2161ad(0x19e),'appId':_0x2161ad(0x1e1),'measurementId':_0x2161ad(0x1c4)};if(!firebase[_0x2161ad(0x216)]['length'])firebase[_0x2161ad(0x200)](firebaseConfig);const db=firebase['database']();let products=[],merchantsMap={},currentUser=null,cart=[];const SUBSCRIPTION_DAYS=0x1e;document[_0x2161ad(0x1b2)](_0x2161ad(0x20d),()=>{const _0x1bd09d=_0x2161ad;initSlider(),db[_0x1bd09d(0x1bb)](_0x1bd09d(0x1e2))['on']('value',_0x4f800f=>{const _0x345aee=_0x1bd09d,_0x1ae6db=_0x4f800f[_0x345aee(0x1dd)]()||{};merchantsMap={};const _0x5d1ff1=Date[_0x345aee(0x1a9)]();for(const [_0x52ffec,_0x9f764e]of Object[_0x345aee(0x229)](_0x1ae6db)){if(_0x9f764e[_0x345aee(0x1b3)]&&_0x9f764e[_0x345aee(0x1b3)]>_0x5d1ff1)merchantsMap[_0x52ffec]=!![];else merchantsMap[_0x52ffec]=![];}loadProducts();});const _0x1a4e26=sessionStorage['getItem'](_0x1bd09d(0x1cc));_0x1a4e26&&(currentUser=JSON[_0x1bd09d(0x1e5)](_0x1a4e26),checkSubscriptionOnLoad(),updateUserUI());});function loadProducts(){const _0x12ce46=_0x2161ad;db[_0x12ce46(0x1bb)](_0x12ce46(0x1d1))['on'](_0x12ce46(0x209),_0x58f46d=>{const _0x3e2e08=_0x12ce46,_0x38a1c1=_0x58f46d[_0x3e2e08(0x1dd)](),_0x40ca32=_0x38a1c1?Object[_0x3e2e08(0x1b9)](_0x38a1c1):[];products=_0x40ca32[_0x3e2e08(0x1b4)](_0x336d22=>merchantsMap[_0x336d22[_0x3e2e08(0x201)]]===!![]),renderProducts(products),updateDynamicFilters();if(currentUser)renderMyProducts();});}function updateDynamicFilters(){const _0x424871=_0x2161ad,_0x396e8c=document[_0x424871(0x227)](_0x424871(0x22b)),_0x2a1807=[...new Set(products['map'](_0x204fa4=>_0x204fa4[_0x424871(0x1cd)]))];let _0x19c957=_0x424871(0x1c0);_0x2a1807[_0x424871(0x1e6)](_0x47b7e8=>{const _0xbc5e06=_0x424871;if(_0x47b7e8)_0x19c957+=_0xbc5e06(0x1f1)+_0x47b7e8+_0xbc5e06(0x1de)+_0x47b7e8+'</div>';}),_0x396e8c[_0x424871(0x204)]=_0x19c957;}function filterProducts(_0x115920,_0x46cdbe){const _0x59e35a=_0x2161ad;document[_0x59e35a(0x1ea)](_0x59e35a(0x1ed))[_0x59e35a(0x1e6)](_0x59199c=>_0x59199c['classList'][_0x59e35a(0x1ae)](_0x59e35a(0x1a2))),_0x46cdbe['classList']['add']('active');if(_0x115920==='all')renderProducts(products),document[_0x59e35a(0x227)](_0x59e35a(0x1fe))[_0x59e35a(0x1a5)]=_0x59e35a(0x22c);else{const _0x3ebf1c=products['filter'](_0x26b2e0=>_0x26b2e0[_0x59e35a(0x1cd)]===_0x115920);renderProducts(_0x3ebf1c),document['getElementById']('productsTitle')[_0x59e35a(0x1a5)]=_0x59e35a(0x1ce)+_0x115920;}}function renderProducts(_0x1b43a7){const _0x2e7f79=_0x2161ad,_0x2ffde7=document[_0x2e7f79(0x227)](_0x2e7f79(0x1d2));_0x2ffde7[_0x2e7f79(0x204)]='';if(_0x1b43a7[_0x2e7f79(0x1ad)]===0x0){_0x2ffde7['innerHTML']=_0x2e7f79(0x21a);return;}_0x1b43a7[_0x2e7f79(0x1e6)](_0x3221c1=>{const _0x4f4da4=_0x2e7f79;_0x2ffde7[_0x4f4da4(0x204)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x3221c1[_0x4f4da4(0x194)]+_0x4f4da4(0x1c7)+_0x3221c1[_0x4f4da4(0x1f3)]+'\x22\x20onerror=\x22this.src=\x27https://via.placeholder.com/200?text=No+Image\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-badge\x22>'+_0x3221c1['cat']+_0x4f4da4(0x221)+_0x3221c1[_0x4f4da4(0x1f3)]+_0x4f4da4(0x210)+(_0x3221c1[_0x4f4da4(0x21b)]||_0x4f4da4(0x19b))+_0x4f4da4(0x1a3)+_0x3221c1[_0x4f4da4(0x193)]+_0x4f4da4(0x1b1)+_0x3221c1['id']+_0x4f4da4(0x214);});}function goToPayment(){const _0xa9fd13=_0x2161ad,_0x50dc99=document[_0xa9fd13(0x227)](_0xa9fd13(0x225))[_0xa9fd13(0x209)],_0x272e38=document[_0xa9fd13(0x227)]('regPhone')['value'],_0x282224=document[_0xa9fd13(0x227)]('regWhatsapp')[_0xa9fd13(0x209)];let _0x35f2bc=document[_0xa9fd13(0x227)](_0xa9fd13(0x20b))['value'];const _0x43d916=document[_0xa9fd13(0x227)](_0xa9fd13(0x205))[_0xa9fd13(0x209)];if(!_0x50dc99||!_0x272e38||!_0x282224||!_0x35f2bc||!_0x43d916){alert(_0xa9fd13(0x223));return;}if(/[.#$\[\]]/['test'](_0x35f2bc)){alert(_0xa9fd13(0x222));return;}const _0xee8640=document[_0xa9fd13(0x227)]('nextBtn'),_0x1f4b6d=_0xee8640['innerText'];_0xee8640[_0xa9fd13(0x1a5)]=_0xa9fd13(0x224),_0xee8640[_0xa9fd13(0x21c)][_0xa9fd13(0x230)]=_0xa9fd13(0x190),typeof db!==_0xa9fd13(0x226)&&db[_0xa9fd13(0x1bb)](_0xa9fd13(0x1fa)+_0x35f2bc)[_0xa9fd13(0x20f)](_0xa9fd13(0x209))[_0xa9fd13(0x228)](_0x3265d9=>{const _0x2e9640=_0xa9fd13;_0xee8640['innerText']=_0x1f4b6d,_0xee8640[_0x2e9640(0x21c)][_0x2e9640(0x230)]='1',_0x3265d9[_0x2e9640(0x1fc)]()?alert(_0x2e9640(0x1af)):(document[_0x2e9640(0x227)](_0x2e9640(0x191))['style'][_0x2e9640(0x215)]=_0x2e9640(0x1eb),document[_0x2e9640(0x227)](_0x2e9640(0x1cf))[_0x2e9640(0x21c)][_0x2e9640(0x215)]=_0x2e9640(0x1d3),setTimeout(()=>document[_0x2e9640(0x227)](_0x2e9640(0x1cf))[_0x2e9640(0x1b0)]({'behavior':'smooth'}),0x64));})['catch'](_0x1459fd=>alert(_0xa9fd13(0x1f6)+_0x1459fd[_0xa9fd13(0x1be)]));}function completeRegistration(){const _0x760798=_0x2161ad,_0x4008e3=document['getElementById'](_0x760798(0x1b8))['value'];if(!_0x4008e3){alert(_0x760798(0x1fd));return;}const _0xa22b4f=document['getElementById'](_0x760798(0x225))[_0x760798(0x209)],_0x128872=document['getElementById'](_0x760798(0x1b6))[_0x760798(0x209)],_0x4745ea=document['getElementById'](_0x760798(0x1c1))[_0x760798(0x209)],_0x2057eb=document['getElementById'](_0x760798(0x20b))[_0x760798(0x209)],_0x2246f2=document[_0x760798(0x227)](_0x760798(0x205))[_0x760798(0x209)],_0x370e1b=Date[_0x760798(0x1a9)](),_0x36442d=_0x370e1b+SUBSCRIPTION_DAYS*0x18*0x3c*0x3c*0x3e8,_0x15653d={'shopName':_0xa22b4f,'phone':_0x128872,'whatsapp':_0x4745ea,'password':_0x2246f2,'username':_0x2057eb,'paymentRef':_0x4008e3,'status':_0x760798(0x1a2),'joinDate':_0x370e1b,'expiryDate':_0x36442d};db[_0x760798(0x1bb)]('merchants/'+_0x2057eb)[_0x760798(0x1f4)](_0x15653d)['then'](()=>{const _0xd3462f=_0x760798;alert('ØªÙ…\x20Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ\x20Ø¨Ù†Ø¬Ø§Ø­!'),closeModal(_0xd3462f(0x1bc)),document[_0xd3462f(0x227)](_0xd3462f(0x191))[_0xd3462f(0x21c)][_0xd3462f(0x215)]=_0xd3462f(0x1d3),document['getElementById'](_0xd3462f(0x1cf))[_0xd3462f(0x21c)]['display']=_0xd3462f(0x1eb);});}function loginMerchant(){const _0x502538=_0x2161ad,_0x2e9f0a=document[_0x502538(0x227)](_0x502538(0x192))[_0x502538(0x209)],_0x46836f=document['getElementById'](_0x502538(0x1ff))[_0x502538(0x209)];db[_0x502538(0x1bb)](_0x502538(0x1fa)+_0x2e9f0a)[_0x502538(0x20f)](_0x502538(0x209),_0x4926c3=>{const _0x2126c2=_0x502538;if(_0x4926c3[_0x2126c2(0x1fc)]()){let _0x339a4=_0x4926c3[_0x2126c2(0x1dd)]();if(_0x339a4['password']==_0x46836f){const _0xf2c62=Date[_0x2126c2(0x1a9)]();!_0x339a4[_0x2126c2(0x1b3)]&&(_0x339a4['expiryDate']=_0xf2c62+SUBSCRIPTION_DAYS*0x18*0x3c*0x3c*0x3e8,db['ref'](_0x2126c2(0x1fa)+_0x2e9f0a)[_0x2126c2(0x1b5)]({'expiryDate':_0x339a4[_0x2126c2(0x1b3)]})),_0x339a4[_0x2126c2(0x1b3)]&&_0xf2c62>_0x339a4[_0x2126c2(0x1b3)]?(currentUser=_0x339a4,currentUser['id']=_0x2e9f0a,closeModal(_0x2126c2(0x22a)),openModal(_0x2126c2(0x208))):(currentUser=_0x339a4,currentUser['id']=_0x2e9f0a,sessionStorage[_0x2126c2(0x1a7)](_0x2126c2(0x1cc),JSON[_0x2126c2(0x1a4)](currentUser)),updateUserUI(),closeModal(_0x2126c2(0x22a)),alert('Ù…Ø±Ø­Ø¨Ø§Ù‹\x20Ø¨Ùƒ!'));}else alert(_0x2126c2(0x213));}else alert('Ù‡Ø°Ø§\x20Ø§Ù„Ø­Ø³Ø§Ø¨\x20ØºÙŠØ±\x20Ù…ÙˆØ¬ÙˆØ¯');});}function checkSubscriptionOnLoad(){const _0x46b52b=_0x2161ad;if(!currentUser)return;db[_0x46b52b(0x1bb)](_0x46b52b(0x1fa)+currentUser['id'])['once'](_0x46b52b(0x209),_0xb54821=>{const _0x5863b=_0x46b52b,_0x39c1fc=_0xb54821[_0x5863b(0x1dd)](),_0x4ed557=Date['now']();_0x39c1fc&&_0x39c1fc[_0x5863b(0x1b3)]&&_0x4ed557>_0x39c1fc[_0x5863b(0x1b3)]&&(logout(),openModal('renewalModal'));});}function renewSubscription(){const _0x336130=_0x2161ad,_0x553fb6=document[_0x336130(0x227)](_0x336130(0x196))[_0x336130(0x209)];if(!_0x553fb6){alert(_0x336130(0x1fd));return;}const _0x353d1d=Date[_0x336130(0x1a9)](),_0x4830d2=_0x353d1d+SUBSCRIPTION_DAYS*0x18*0x3c*0x3c*0x3e8;db[_0x336130(0x1bb)](_0x336130(0x1fa)+currentUser['id'])['update']({'expiryDate':_0x4830d2,'lastRenewalRef':_0x553fb6,'status':_0x336130(0x1a2)})['then'](()=>{const _0x1b0c27=_0x336130;alert(_0x1b0c27(0x19a)),closeModal(_0x1b0c27(0x208)),currentUser[_0x1b0c27(0x1b3)]=_0x4830d2,sessionStorage[_0x1b0c27(0x1a7)](_0x1b0c27(0x1cc),JSON[_0x1b0c27(0x1a4)](currentUser)),updateUserUI();});}function logout(){const _0x190613=_0x2161ad;currentUser=null,sessionStorage[_0x190613(0x19c)](_0x190613(0x1cc)),document[_0x190613(0x227)](_0x190613(0x1ee))['style'][_0x190613(0x215)]=_0x190613(0x1eb),document[_0x190613(0x227)]('userGreeting')[_0x190613(0x203)]=_0x190613(0x1b7);}function updateUserUI(){const _0x19b469=_0x2161ad;document[_0x19b469(0x227)](_0x19b469(0x1c3))['textContent']='Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ\x20'+currentUser['shopName'],document[_0x19b469(0x227)](_0x19b469(0x1ee))[_0x19b469(0x21c)][_0x19b469(0x215)]=_0x19b469(0x1d3),document['getElementById']('dashTitle')['textContent']=_0x19b469(0x1a8)+currentUser[_0x19b469(0x21b)];let _0x5438ac=0x0;currentUser['expiryDate']?_0x5438ac=Math[_0x19b469(0x21e)]((currentUser[_0x19b469(0x1b3)]-Date[_0x19b469(0x1a9)]())/(0x3e8*0x3c*0x3c*0x18)):_0x5438ac=0x0;if(_0x5438ac<0x0)_0x5438ac=0x0;const _0x172d27=_0x5438ac<0x5?_0x19b469(0x1dc):_0x19b469(0x19d),_0x23aa1f=_0x5438ac===0x0?_0x19b469(0x220):_0x19b469(0x1bf)+_0x5438ac+_0x19b469(0x1ab);document[_0x19b469(0x227)](_0x19b469(0x1ec))[_0x19b469(0x204)]='<span\x20style=\x22color:'+_0x172d27+';\x20background:#fff;\x20padding:5px\x2010px;\x20border-radius:15px;\x20box-shadow:0\x202px\x205px\x20rgba(0,0,0,0.1)\x22>'+_0x23aa1f+'</span>',renderMyProducts();}function handleProductSubmit(_0x1f568f){const _0x1597bf=_0x2161ad;_0x1f568f[_0x1597bf(0x1e9)]();if(!currentUser)return;const _0x1436ce={'id':Date[_0x1597bf(0x1a9)](),'name':document[_0x1597bf(0x227)]('pName')[_0x1597bf(0x209)],'price':document[_0x1597bf(0x227)](_0x1597bf(0x211))[_0x1597bf(0x209)],'img':document['getElementById']('pImg')[_0x1597bf(0x209)],'cat':document[_0x1597bf(0x227)]('pCat')['value'],'desc':document[_0x1597bf(0x227)](_0x1597bf(0x22f))[_0x1597bf(0x209)],'merchantId':currentUser['id'],'shopName':currentUser['shopName'],'merchantPhone':currentUser[_0x1597bf(0x1da)]||currentUser['phone']};db['ref']('products/'+_0x1436ce['id'])['set'](_0x1436ce)[_0x1597bf(0x228)](()=>{const _0x5a01d9=_0x1597bf;alert(_0x5a01d9(0x1a0)),document['getElementById'](_0x5a01d9(0x1c5))['reset']();});}function renderMyProducts(){const _0x2d75c0=_0x2161ad,_0x47be01=document[_0x2d75c0(0x227)](_0x2d75c0(0x1d4));_0x47be01[_0x2d75c0(0x204)]='',db[_0x2d75c0(0x1bb)](_0x2d75c0(0x1d1))[_0x2d75c0(0x20f)](_0x2d75c0(0x209),_0x11ec32=>{const _0x593a91=_0x2d75c0,_0x22fa53=_0x11ec32[_0x593a91(0x1dd)]();if(_0x22fa53){const _0x1529c3=Object[_0x593a91(0x1b9)](_0x22fa53),_0x1c4c3b=_0x1529c3[_0x593a91(0x1b4)](_0x43cd62=>_0x43cd62['merchantId']===currentUser['id']);_0x1c4c3b[_0x593a91(0x1e6)](_0x42918d=>{const _0x2a48b7=_0x593a91;_0x47be01[_0x2a48b7(0x204)]+=_0x2a48b7(0x1f2)+_0x42918d[_0x2a48b7(0x1f3)]+_0x2a48b7(0x195)+_0x42918d['id']+_0x2a48b7(0x219);});}});}function deleteProduct(_0x5dd901){const _0x423351=_0x2161ad;if(confirm(_0x423351(0x218)))db[_0x423351(0x1bb)]('products/'+_0x5dd901)['remove']()[_0x423351(0x228)](()=>renderMyProducts());}function addToCart(_0x1b7009){const _0x2cf73f=_0x2161ad,_0xe51a3d=products[_0x2cf73f(0x231)](_0x2fc8ea=>_0x2fc8ea['id']==_0x1b7009);if(!_0xe51a3d)return;const _0x3b1a97=cart['find'](_0x32b9b7=>_0x32b9b7['id']==_0x1b7009);if(_0x3b1a97)_0x3b1a97[_0x2cf73f(0x1d5)]++;else cart[_0x2cf73f(0x1e7)]({..._0xe51a3d,'qty':0x1});updateCartUI();}function updateCartUI(){const _0x3315ed=_0x2161ad;document[_0x3315ed(0x227)]('cartCount')[_0x3315ed(0x203)]=cart[_0x3315ed(0x197)]((_0x2f8a30,_0x4af215)=>_0x2f8a30+_0x4af215[_0x3315ed(0x1d5)],0x0);let _0x4f129b='',_0x3933f0=0x0;cart[_0x3315ed(0x1e6)]((_0x3fb60a,_0x524a28)=>{const _0x22db29=_0x3315ed;_0x3933f0+=_0x3fb60a[_0x22db29(0x193)]*_0x3fb60a[_0x22db29(0x1d5)],_0x4f129b+=_0x22db29(0x1e8)+_0x3fb60a['name']+'\x20('+_0x3fb60a[_0x22db29(0x1d5)]+')<br><small>'+_0x3fb60a[_0x22db29(0x21b)]+_0x22db29(0x1f5)+_0x3fb60a[_0x22db29(0x193)]*_0x3fb60a['qty']+_0x22db29(0x202)+_0x524a28+_0x22db29(0x1cb);}),document[_0x3315ed(0x227)]('cartItems')[_0x3315ed(0x204)]=_0x4f129b||'ÙØ§Ø±ØºØ©',document[_0x3315ed(0x227)]('cartTotal')[_0x3315ed(0x203)]=_0x3933f0;}function checkout(_0x4269d0){const _0x2b793c=_0x2161ad;_0x4269d0[_0x2b793c(0x1e9)]();if(cart[_0x2b793c(0x1ad)]===0x0){alert('Ø§Ù„Ø³Ù„Ø©\x20ÙØ§Ø±ØºØ©');return;}const _0x2f38ed=document[_0x2b793c(0x227)]('cName')[_0x2b793c(0x209)],_0x5ad7e0=document['getElementById'](_0x2b793c(0x1d6))[_0x2b793c(0x209)],_0x16b17f=document['getElementById'](_0x2b793c(0x1d0))[_0x2b793c(0x209)],_0x2fcb48=Date[_0x2b793c(0x1a9)]();db[_0x2b793c(0x1bb)]('orders/'+_0x2fcb48)['set']({'date':new Date()[_0x2b793c(0x1d9)](),'customer':{'name':_0x2f38ed,'phone':_0x5ad7e0,'address':_0x16b17f},'cart':cart});const _0x4cf5ce={};cart[_0x2b793c(0x1e6)](_0x19aba8=>{const _0x469ab5=_0x2b793c;!_0x4cf5ce[_0x19aba8['merchantId']]&&(_0x4cf5ce[_0x19aba8[_0x469ab5(0x201)]]={'shopName':_0x19aba8[_0x469ab5(0x21b)],'whatsapp':_0x19aba8['merchantPhone'],'items':[],'subtotal':0x0}),_0x4cf5ce[_0x19aba8['merchantId']]['items'][_0x469ab5(0x1e7)](_0x19aba8),_0x4cf5ce[_0x19aba8[_0x469ab5(0x201)]][_0x469ab5(0x19f)]+=_0x19aba8[_0x469ab5(0x193)]*_0x19aba8['qty'];});const _0x2b3a48=document[_0x2b793c(0x227)]('dispatchList');_0x2b3a48[_0x2b793c(0x204)]='';for(const [_0x2ef180,_0x2c72c1]of Object[_0x2b793c(0x229)](_0x4cf5ce)){let _0x12b775='*Ø·Ù„Ø¨\x20Ø¬Ø¯ÙŠØ¯\x20Ù…Ù†\x20GREEN\x20GOLDEN*\x0ağŸ‘¤\x20Ø§Ù„Ø¹Ù…ÙŠÙ„:\x20'+_0x2f38ed+_0x2b793c(0x20a)+_0x5ad7e0+_0x2b793c(0x1ef)+_0x16b17f+_0x2b793c(0x1f9);_0x2c72c1['items'][_0x2b793c(0x1e6)](_0x4fd7f2=>{const _0x11c11c=_0x2b793c;_0x12b775+='-\x20'+_0x4fd7f2[_0x11c11c(0x1f3)]+_0x11c11c(0x1e0)+_0x4fd7f2[_0x11c11c(0x1d5)]+')\x0a';}),_0x12b775+=_0x2b793c(0x1e4)+_0x2c72c1['subtotal']+_0x2b793c(0x1fb);const _0x6ef408=encodeURIComponent(_0x12b775),_0x64fe45=_0x2c72c1['whatsapp']||'01120194940';_0x2b3a48[_0x2b793c(0x204)]+=_0x2b793c(0x1ac)+_0x2c72c1['shopName']+_0x2b793c(0x21d)+_0x2c72c1[_0x2b793c(0x19f)]+_0x2b793c(0x20c)+_0x2c72c1['items'][_0x2b793c(0x1ad)]+'\x20Ù…Ù†ØªØ¬Ø§Øª</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://wa.me/'+_0x64fe45+_0x2b793c(0x20e)+_0x6ef408+_0x2b793c(0x1f7);}closeModal(_0x2b793c(0x1c9)),openModal(_0x2b793c(0x1f8)),cart=[],updateCartUI();}function checkMerchantStatus(){const _0x4ba8a7=_0x2161ad;currentUser?(document['getElementById'](_0x4ba8a7(0x1ee))[_0x4ba8a7(0x21c)][_0x4ba8a7(0x215)]=_0x4ba8a7(0x1d3),document[_0x4ba8a7(0x227)](_0x4ba8a7(0x1ee))[_0x4ba8a7(0x1b0)]({'behavior':_0x4ba8a7(0x21f)})):openModal(_0x4ba8a7(0x1a1));}function searchProduct(){const _0x4b61b2=_0x2161ad,_0x2f1256=document[_0x4b61b2(0x227)](_0x4b61b2(0x217))[_0x4b61b2(0x209)][_0x4b61b2(0x1e3)](),_0x587b61=products[_0x4b61b2(0x1b4)](_0x26a004=>_0x26a004[_0x4b61b2(0x1f3)][_0x4b61b2(0x1e3)]()[_0x4b61b2(0x1bd)](_0x2f1256)||_0x26a004[_0x4b61b2(0x1cd)]&&_0x26a004[_0x4b61b2(0x1cd)][_0x4b61b2(0x1bd)](_0x2f1256));renderProducts(_0x587b61);}function initSlider(){const _0x1ab80a=_0x2161ad,_0x11c815=document[_0x1ab80a(0x1ea)](_0x1ab80a(0x199));let _0x4f77e0=0x0;setInterval(()=>{const _0x3b5768=_0x1ab80a;_0x11c815[_0x4f77e0][_0x3b5768(0x1df)][_0x3b5768(0x1ae)]('active'),_0x4f77e0=(_0x4f77e0+0x1)%_0x11c815[_0x3b5768(0x1ad)],_0x11c815[_0x4f77e0][_0x3b5768(0x1df)][_0x3b5768(0x22e)](_0x3b5768(0x1a2));},0x1388);}function openModal(_0x55a443){const _0x8f3c8=_0x2161ad;document[_0x8f3c8(0x227)](_0x55a443)['style'][_0x8f3c8(0x215)]=_0x8f3c8(0x198);}function closeModal(_0x4c0e4f){const _0x1f7d9d=_0x2161ad;document[_0x1f7d9d(0x227)](_0x4c0e4f)[_0x1f7d9d(0x21c)][_0x1f7d9d(0x215)]='none';}window[_0x2161ad(0x1c8)]=function(_0x145b5b){const _0x23842b=_0x2161ad;if(_0x145b5b[_0x23842b(0x1ca)][_0x23842b(0x1df)]['contains'](_0x23842b(0x1ba)))_0x145b5b[_0x23842b(0x1ca)][_0x23842b(0x21c)][_0x23842b(0x215)]=_0x23842b(0x1eb);};
    </script>
</body>

</html>


